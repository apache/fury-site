"use strict";(self.webpackChunkfory_site=self.webpackChunkfory_site||[]).push([[3042],{81024:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>u,frontMatter:()=>s,metadata:()=>o,toc:()=>l});var r=t(85893),i=t(11151);const s={title:"How to verify",sidebar_position:0,id:"how_to_verify"},a=void 0,o={id:"community/how_to_verify",title:"How to verify",description:"For detailed check list, please refer to the official check list",source:"@site/versioned_docs/version-0.10/community/how_to_verify.md",sourceDirName:"community",slug:"/community/how_to_verify",permalink:"/docs/0.10/community/how_to_verify",draft:!1,unlisted:!1,editUrl:"https://github.com/apache/fory-site/tree/main/docs/community/how_to_verify.md",tags:[],version:"0.10",sidebarPosition:0,frontMatter:{title:"How to verify",sidebar_position:0,id:"how_to_verify"},sidebar:"communitySidebar",previous:{title:"How to release",permalink:"/docs/0.10/community/how_to_release"}},c={},l=[{value:"Download the candidate version",id:"download-the-candidate-version",level:2},{value:"Verify checksums and signatures",id:"verify-checksums-and-signatures",level:2},{value:"Check the file content of the source package",id:"check-the-file-content-of-the-source-package",level:2},{value:"Check the Maven artifacts of fury-java",id:"check-the-maven-artifacts-of-fury-java",level:2}];function h(e){const n={a:"a",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.p,{children:["For detailed check list, please refer to the ",(0,r.jsx)(n.a,{href:"https://cwiki.apache.org/confluence/display/INCUBATOR/Incubator+Release+Checklist",children:"official check list"})]}),"\n",(0,r.jsx)(n.h2,{id:"download-the-candidate-version",children:"Download the candidate version"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"#If there is svn locally, you can clone to the local\nsvn co https://dist.apache.org/repos/dist/dev/incubator/fury/${release_version}-${rc_version}/\n# You can download the material file directly\nwget https://dist.apache.org/repos/dist/dev/incubator/fury/${release_version}-${rc_version}/xxx.xxx\n"})}),"\n",(0,r.jsx)(n.h2,{id:"verify-checksums-and-signatures",children:"Verify checksums and signatures"}),"\n",(0,r.jsx)(n.p,{children:"First you need to install gpg:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"apt-get install gnupg\n# or\nyum install gnupg\n# or\nbrew install gnupg\n"})}),"\n",(0,r.jsx)(n.p,{children:"Then import the Fury release manager's public key:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"curl https://downloads.apache.org/incubator/fury/KEYS > KEYS # Download KEYS\ngpg --import KEYS # Import KEYS to local\n# Then, trust the public key:\ngpg --edit-key <KEY-used-in-this-version> # Edit the key(mentioned in vote email)\n# It will enter the interactive mode, use the following command to trust the key:\ngpg (GnuPG) 2.0.22; Copyright (C) 2013 Free Software Foundation, Inc.\nThis is free software: you are free to change and redistribute it.\nThere is NO WARRANTY, to the extent permitted by law.\n\n\npub  4096R/5E580BA4  created: 2024-03-27  expires: never       usage: SC\n                     trust: unknown       validity: unknown\nsub  4096R/A31EF728  created: 2024-03-27  expires: never       usage: E\n[ unknown] (1). chaokunyang (CODE SIGNING KEY) <chaokunyang@apache.org>\n\ngpg> trust\npub  4096R/5E580BA4  created: 2024-03-27  expires: never       usage: SC\n                     trust: unknown       validity: unknown\nsub  4096R/A31EF728  created: 2024-03-27  expires: never       usage: E\n[ unknown] (1). chaokunyang (CODE SIGNING KEY) <chaokunyang@apache.org>\n\nPlease decide how far you trust this user to correctly verify other users' keys\n(by looking at passports, checking fingerprints from different sources, etc.)\n\n  1 = I don't know or won't say\n  2 = I do NOT trust\n  3 = I trust marginally\n  4 = I trust fully\n  5 = I trust ultimately\n  m = back to the main menu\n\nYour decision? 5\nDo you really want to set this key to ultimate trust? (y/N) y\n\npub  4096R/5E580BA4  created: 2024-03-27  expires: never       usage: SC\n                     trust: ultimate      validity: unknown\nsub  4096R/A31EF728  created: 2024-03-27  expires: never       usage: E\n[ unknown] (1). chaokunyang (CODE SIGNING KEY) <chaokunyang@apache.org>\nPlease note that the shown key validity is not necessarily correct\nunless you restart the program.\n"})}),"\n",(0,r.jsx)(n.p,{children:"Next verify signature:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"for i in *.tar.gz; do echo $i; gpg --verify $i.asc $i; done\n"})}),"\n",(0,r.jsx)(n.p,{children:"If something like the following appears, it means the signature is correct:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'apache-fury-incubating-0.5.0-src.tar.gz\ngpg: Signature made Wed 17 Apr 2024 11:49:45 PM CST using RSA key ID 5E580BA4\ngpg: checking the trustdb\ngpg: 3 marginal(s) needed, 1 complete(s) needed, PGP trust model\ngpg: depth: 0  valid:   1  signed:   0  trust: 0-, 0q, 0n, 0m, 0f, 1u\ngpg: Good signature from "chaokunyang (CODE SIGNING KEY) <chaokunyang@apache.org>"\n'})}),"\n",(0,r.jsx)(n.p,{children:"Then verify checksum:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"for i in *.tar.gz; do echo $i; sha512sum --check  $i.sha512; done\n"})}),"\n",(0,r.jsx)(n.p,{children:"It should output something like:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"apache-fury-incubating-0.5.0-src.tar.gz\napache-fury-incubating-0.5.0-src.tar.gz: OK\n"})}),"\n",(0,r.jsx)(n.h2,{id:"check-the-file-content-of-the-source-package",children:"Check the file content of the source package"}),"\n",(0,r.jsxs)(n.p,{children:["Unzip ",(0,r.jsx)(n.code,{children:"apache-fury-${release_version}-${rc_version}-src.tar.gz"})," and check the follows:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"LICENSE and NOTICE files are correct for the repository."}),"\n",(0,r.jsx)(n.li,{children:"All files have ASF license headers if necessary."}),"\n",(0,r.jsx)(n.li,{children:"Building is OK."}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"check-the-maven-artifacts-of-fury-java",children:"Check the Maven artifacts of fury-java"}),"\n",(0,r.jsxs)(n.p,{children:["Download the artifacts from ",(0,r.jsx)(n.a,{href:"https://repository.apache.org/content/repositories/orgapachefury-$%7Bmaven_artifact_number%7D/",children:"https://repository.apache.org/content/repositories/orgapachefury-${maven_artifact_number}/"}),"."]}),"\n",(0,r.jsx)(n.p,{children:"You can check the follows:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Checksum of JARs match the bundled checksum file."}),"\n",(0,r.jsx)(n.li,{children:"Signature of JARs match the bundled signature file."}),"\n",(0,r.jsx)(n.li,{children:"JARs is reproducible locally. This means you can build the JARs on your machine and verify the checksum is the same with the bundled one."}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},11151:(e,n,t)=>{t.d(n,{Z:()=>o,a:()=>a});var r=t(67294);const i={},s=r.createContext(i);function a(e){const n=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);