<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-specification/fury_java_serialization_spec" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.0.1">
<title data-rh="true">Fury Java Serialization Format | Apache Fury (incubating)</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://fury.apache.org/docs/specification/fury_java_serialization_spec"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" http-equiv="Content-Security-Policy" content="frame-src &#x27;self&#x27; https://ghbtns.com"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Fury Java Serialization Format | Apache Fury (incubating)"><meta data-rh="true" name="description" content="Spec overview"><meta data-rh="true" property="og:description" content="Spec overview"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://fury.apache.org/docs/specification/fury_java_serialization_spec"><link data-rh="true" rel="alternate" href="https://fury.apache.org/docs/specification/fury_java_serialization_spec" hreflang="en"><link data-rh="true" rel="alternate" href="https://fury.apache.org/docs/specification/fury_java_serialization_spec" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Apache Fury (incubating) RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Apache Fury (incubating) Atom Feed"><link rel="stylesheet" href="/assets/css/styles.d3c1e154.css">
<script src="/assets/js/runtime~main.7f455076.js" defer="defer"></script>
<script src="/assets/js/main.65911069.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/navbar-logo.svg" alt="Fury Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/navbar-logo.svg" alt="Fury Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate"></b></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/start/install">Start</a><a class="navbar__item navbar__link" href="/docs/introduction/">Introduction</a><a class="navbar__item navbar__link" href="/docs/guide/java_object_graph_guide">Guide</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/specification/fury_xlang_serialization_spec">Specification</a><a class="navbar__item navbar__link" href="/download">Download</a><a class="navbar__item navbar__link" href="/blog">Blog</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">ASF</a><ul class="dropdown__menu"><li><a href="https://www.apache.org/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Foundation</a></li><li><a href="https://www.apache.org/licenses/" target="_blank" rel="noopener noreferrer" class="dropdown__link">License</a></li><li><a href="https://www.apache.org/events/current-event.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Events</a></li><li><a href="https://privacy.apache.org/policies/privacy-policy-public.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Privacy</a></li><li><a href="https://www.apache.org/security/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Security</a></li><li><a href="https://www.apache.org/foundation/sponsorship.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Sponsorship</a></li><li><a href="https://www.apache.org/foundation/thanks.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Thanks</a></li><li><a href="https://www.apache.org/foundation/policies/conduct.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Code of Conduct</a></li></ul></div><a href="https://github.com/apache/incubator-fury" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input id="search_input_react" type="search" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/specification/fury_xlang_serialization_spec">Fury Xlang Serialization Format</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/docs/specification/fury_java_serialization_spec">Fury Java Serialization Format</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/specification/fury_row_format_spec">Fury Row Format</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Fury Java Serialization Format</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Fury Java Serialization Specification</h1>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="spec-overview">Spec overview<a href="#spec-overview" class="hash-link" aria-label="Direct link to Spec overview" title="Direct link to Spec overview">​</a></h2>
<p>Fury Java Serialization is an automatic object serialization framework that supports reference and polymorphism. Fury
will
convert an object from/to fury java serialization binary format. Fury has two core concepts for java serialization:</p>
<ul>
<li><strong>Fury Java Binary format</strong></li>
<li><strong>Framework to convert object to/from Fury Java Binary format</strong></li>
</ul>
<p>The serialization format is a dynamic binary format. The dynamics and reference/polymorphism support make Fury flexible,
much more easy to use, but
also introduce more complexities compared to static serialization frameworks. So the format will be more complex.</p>
<p>Here is the overall format:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">| fury header | object ref meta | object class meta | object value data |</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The data are serialized using little endian byte order overall. If bytes swap is costly for some object,
Fury will write the byte order for that object into the data instead of converting it to little endian.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="fury-header">Fury header<a href="#fury-header" class="hash-link" aria-label="Direct link to Fury header" title="Direct link to Fury header">​</a></h2>
<p>Fury header consists starts one byte:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">|     4 bits    | 1 bit | 1 bit | 1 bit  | 1 bit |          optional 4 bytes          |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+---------------+-------+-------+--------+-------+------------------------------------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| reserved bits |  oob  | xlang | endian | null  | unsigned int for meta start offset |</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>null flag: 1 when object is null, 0 otherwise. If an object is null, other bits won&#x27;t be set.</li>
<li>endian flag: 1 when data is encoded by little endian, 0 for big endian.</li>
<li>xlang flag: 1 when serialization uses xlang format, 0 when serialization uses Fury java format.</li>
<li>oob flag: 1 when passed <code>BufferCallback</code> is not null, 0 otherwise.</li>
</ul>
<p>If meta share mode is enabled, an uncompressed unsigned int is appended to indicate the start offset of metadata.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="reference-meta">Reference Meta<a href="#reference-meta" class="hash-link" aria-label="Direct link to Reference Meta" title="Direct link to Reference Meta">​</a></h2>
<p>Reference tracking handles whether the object is null, and whether to track reference for the object by writing
corresponding flags and maintaining internal state.</p>
<p>Reference flags:</p>
<table><thead><tr><th>Flag</th><th>Byte Value</th><th>Description</th></tr></thead><tbody><tr><td>NULL FLAG</td><td><code>-3</code></td><td>This flag indicates the object is a null value. We don&#x27;t use another byte to indicate REF, so that we can save one byte.</td></tr><tr><td>REF FLAG</td><td><code>-2</code></td><td>This flag indicates the object is already serialized previously, and fury will write a ref id with unsigned varint format instead of serialize it again</td></tr><tr><td>NOT_NULL VALUE FLAG</td><td><code>-1</code></td><td>This flag indicates the object is a non-null value and fury doesn&#x27;t track ref for this type of object.</td></tr><tr><td>REF VALUE FLAG</td><td><code>0</code></td><td>This flag indicates the object is referencable and the first time to serialize.</td></tr></tbody></table>
<p>When reference tracking is disabled globally or for specific types, or for certain types within a particular
context(e.g., a field of a class), only the <code>NULL</code> and <code>NOT_NULL VALUE</code> flags will be used for reference meta.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="class-meta">Class Meta<a href="#class-meta" class="hash-link" aria-label="Direct link to Class Meta" title="Direct link to Class Meta">​</a></h2>
<p>Fury supports to register class by an optional id, the registration can be used for security check and class
identification.
If a class is registered, it will have a user-provided or an auto-growing unsigned int i.e. <code>class_id</code>.</p>
<p>Depending on whether meta share mode and registration is enabled for current class, Fury will write class meta
differently.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="schema-consistent">Schema consistent<a href="#schema-consistent" class="hash-link" aria-label="Direct link to Schema consistent" title="Direct link to Schema consistent">​</a></h3>
<p>If schema consistent mode is enabled globally or enabled for current class, class meta will be written as follows:</p>
<ul>
<li>If class is registered, it will be written as a fury unsigned varint: <code>class_id &lt;&lt; 1</code>.</li>
<li>If class is not registered:<!-- -->
<ul>
<li>If class is not an array, fury will write one byte <code>0bxxxxxxx1</code> first, then write class name.<!-- -->
<ul>
<li>The first little bit is <code>1</code>, which is different from first bit <code>0</code> of
encoded class id. Fury can use this information to determine whether to read class by class id for
deserialization.</li>
</ul>
</li>
<li>If class is not registered and class is an array, fury will write one byte <code>dimensions &lt;&lt; 1 | 1</code> first, then write
component
class subsequently. This can reduce array class name cost if component class is or will be serialized.</li>
<li>Class will be written as two enumerated fury unsigned by default: <code>package name</code> and <code>class name</code>. If meta share
mode is
enabled,
class will be written as an unsigned varint which points to index in <code>MetaContext</code>.</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="schema-evolution">Schema evolution<a href="#schema-evolution" class="hash-link" aria-label="Direct link to Schema evolution" title="Direct link to Schema evolution">​</a></h3>
<p>If schema evolution mode is enabled globally or enabled for current class, class meta will be written as follows:</p>
<ul>
<li>If meta share mode is not enabled, class meta will be written as schema consistent mode. Additionally, field meta such
as field type
and name will be written with the field value using a key-value like layout.</li>
<li>If meta share mode is enabled, class meta will be written as a meta-share encoded binary if class hasn&#x27;t been written
before, otherwise an unsigned varint id which references to previous written class meta will be written.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="meta-share">Meta share<a href="#meta-share" class="hash-link" aria-label="Direct link to Meta share" title="Direct link to Meta share">​</a></h2>
<blockquote>
<p>This mode will forbid streaming writing since it needs to look back for update the start offset after the whole object
graph
writing and meta collecting is finished. Only in this way we can ensure deserialization failure doesn&#x27;t lost shared
meta.
Meta streamline will be supported in the future for enclosed meta sharing which doesn&#x27;t cross multiple serializations
of different objects.</p>
</blockquote>
<p>For Schema consistent mode, class will be encoded as an enumerated string by full class name. Here we mainly describe
the meta layout for schema evolution mode:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">|      8 bytes meta header      | meta size |   variable bytes   |  variable bytes   | variable bytes |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+-------------------------------+-----------|--------------------+-------------------+----------------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| 7 bytes hash + 1 bytes header | 1~2 bytes | current class meta | parent class meta |      ...       |</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Class meta are encoded from parent class to leaf class, only class with serializable fields will be encoded.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="meta-header">Meta header<a href="#meta-header" class="hash-link" aria-label="Direct link to Meta header" title="Direct link to Meta header">​</a></h3>
<p>Meta header is a 64 bits number value encoded in little endian order.</p>
<ul>
<li>Lowest 4 digits <code>0b0000~0b1110</code> are used to record num classes. <code>0b1111</code> is preserved to indicate that Fury need to
read more bytes for length using Fury unsigned int encoding. If current class doesn&#x27;t has parent class, or parent
class doesn&#x27;t have fields to serialize, or we&#x27;re in a context which serialize fields of current class
only( <code>ObjectStreamSerializer#SlotInfo</code> is an example), num classes will be 1.</li>
<li>5rd bit is used to indicate whether this class needs schema evolution.</li>
<li>6rd bit is used to indicate whether the size sum of all layers meta is less than 256.</li>
<li>Other 56 bits is used to store the unique hash of <code>flags + all layers class meta</code>.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="meta-size">Meta size<a href="#meta-size" class="hash-link" aria-label="Direct link to Meta size" title="Direct link to Meta size">​</a></h3>
<ul>
<li>If the size sum of all layers meta is less than 256, then one byte is written next to indicate the length of meta.</li>
<li>Otherwise, write size as two bytes in little endian.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="single-layer-class-meta">Single layer class meta<a href="#single-layer-class-meta" class="hash-link" aria-label="Direct link to Single layer class meta" title="Direct link to Single layer class meta">​</a></h3>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">|      unsigned varint       |      meta string      |     meta string     |  field info: variable bytes   | variable bytes  | ... |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+----------------------------+-----------------------+---------------------+-------------------------------+-----------------+-----+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| num fields + register flag | header + package name | header + class name | header + type id + field name | next field info | ... |</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>num fields: encode <code>num fields &lt;&lt; 1 | register flag(1 when class registered)</code> as unsigned varint.<!-- -->
<ul>
<li>If class is registered, then an unsigned varint class id will be written next, package and class name will be
omitted.</li>
<li>If current class is schema consistent, then num field will be <code>0</code> to flag it.</li>
<li>If current class isn&#x27;t schema consistent, then num field will be the number of compatible fields. For example,
users
can use tag id to mark some field as compatible field in schema consistent context. In such cases, schema
consistent
fields will be serialized first, then compatible fields will be serialized next. At deserialization, Fury will use
fields info of those fields which aren&#x27;t annotated by tag id for deserializing schema consistent fields, then use
fields info in meta for deserializing compatible fields.</li>
</ul>
</li>
<li>Package name encoding(omitted when class is registered):<!-- -->
<ul>
<li>encoding algorithm: <code>UTF8/ALL_TO_LOWER_SPECIAL/LOWER_UPPER_DIGIT_SPECIAL</code></li>
<li>Header: <code>6 bits size | 2 bits encoding flags</code>. The <code>6 bits size: 0~63</code>  will be used to indicate size <code>0~62</code>,
the value <code>63</code> the size need more byte to read, the encoding will encode <code>size - 62</code> as a varint next.</li>
</ul>
</li>
<li>Class name encoding(omitted when class is registered):<!-- -->
<ul>
<li>encoding algorithm: <code>UTF8/LOWER_UPPER_DIGIT_SPECIAL/FIRST_TO_LOWER_SPECIAL/ALL_TO_LOWER_SPECIAL</code></li>
<li>header: <code>6 bits size | 2 bits encoding flags</code>. The <code>6 bits size: 0~63</code>  will be used to indicate size <code>1~64</code>,
the value <code>63</code> the size need more byte to read, the encoding will encode <code>size - 63</code> as a varint next.</li>
</ul>
</li>
<li>Field info:<!-- -->
<ul>
<li>header(8
bits): <code>3 bits size + 2 bits field name encoding + polymorphism flag + nullability flag + ref tracking flag</code>.
Users can use annotation to provide those info.<!-- -->
<ul>
<li>2 bits field name encoding:<!-- -->
<ul>
<li>encoding: <code>UTF8/ALL_TO_LOWER_SPECIAL/LOWER_UPPER_DIGIT_SPECIAL/TAG_ID</code></li>
<li>If tag id is used, i.e. field name is written by an unsigned varint tag id. 2 bits encoding will be <code>11</code>.</li>
</ul>
</li>
<li>size of field name:<!-- -->
<ul>
<li>The <code>3 bits size: 0~7</code>  will be used to indicate length <code>1~7</code>, the value <code>6</code> the size read more bytes,
the encoding will encode <code>size - 7</code> as a varint next.</li>
<li>If encoding is <code>TAG_ID</code>, then num_bytes of field name will be used to store tag id.</li>
</ul>
</li>
<li>ref tracking: when set to 1, ref tracking will be enabled for this field.</li>
<li>nullability: when set to 1, this field can be null.</li>
<li>polymorphism: when set to 1, the actual type of field will be the declared field type even the type if
not <code>final</code>.</li>
</ul>
</li>
<li>type id:<!-- -->
<ul>
<li>For registered type-consistent classes, it will be the registered class id.</li>
<li>Otherwise it will be encoded as <code>OBJECT_ID</code> if it isn&#x27;t <code>final</code> and <code>FINAL_OBJECT_ID</code> if it&#x27;s <code>final</code>. The
meta for such types is written separately instead of inlining here is to reduce meta space cost if object of
this type is serialized in current object graph multiple times, and the field value may be null too.</li>
</ul>
</li>
<li>Field name: If type id is set, type id will be used instead. Otherwise meta string encoding length and data will
be written instead.</li>
</ul>
</li>
</ul>
<p>Field order are left as implementation details, which is not exposed to specification, the deserialization need to
resort fields based on Fury field comparator. In this way, fury can compute statistics for field names or types and
using a more compact encoding.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="other-layers-class-meta">Other layers class meta<a href="#other-layers-class-meta" class="hash-link" aria-label="Direct link to Other layers class meta" title="Direct link to Other layers class meta">​</a></h3>
<p>Same encoding algorithm as the previous layer except:</p>
<ul>
<li>header + package name:<!-- -->
<ul>
<li>Header:<!-- -->
<ul>
<li>If package name has been written before: <code>varint index + sharing flag(set)</code> will be written</li>
<li>If package name hasn&#x27;t been written before:<!-- -->
<ul>
<li>If meta string encoding is <code>LOWER_SPECIAL</code> and the length of encoded string <code>&lt;=</code> 64, then header will be
<code>6 bits size + encoding flag(set) + sharing flag(unset)</code>.</li>
<li>Otherwise, header will
be <code>3 bits unset + 3 bits encoding flags + encoding flag(unset) + sharing flag(unset)</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="meta-string">Meta String<a href="#meta-string" class="hash-link" aria-label="Direct link to Meta String" title="Direct link to Meta String">​</a></h2>
<p>Meta string is mainly used to encode meta strings such as class name and field names.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="encoding-algorithms">Encoding Algorithms<a href="#encoding-algorithms" class="hash-link" aria-label="Direct link to Encoding Algorithms" title="Direct link to Encoding Algorithms">​</a></h3>
<p>String binary encoding algorithm:</p>
<table><thead><tr><th>Algorithm</th><th>Pattern</th><th>Description</th></tr></thead><tbody><tr><td>LOWER_SPECIAL</td><td><code>a-z._$|</code></td><td>every char is written using 5 bits, <code>a-z</code>: <code>0b00000~0b11001</code>, <code>._$|</code>: <code>0b11010~0b11101</code>, prepend one bit at the start to indicate whether strip last char since last byte may have 7 redundant bits(1 indicates strip last char)</td></tr><tr><td>LOWER_UPPER_DIGIT_SPECIAL</td><td><code>a-zA-Z0~9._</code></td><td>every char is written using 6 bits, <code>a-z</code>: <code>0b00000~0b11001</code>, <code>A-Z</code>: <code>0b11010~0b110011</code>, <code>0~9</code>: <code>0b110100~0b111101</code>, <code>._</code>: <code>0b111110~0b111111</code>,  prepend one bit at the start to indicate whether strip last char since last byte may have 7 redundant bits(1 indicates strip last char)</td></tr><tr><td>UTF-8</td><td>any chars</td><td>UTF-8 encoding</td></tr></tbody></table>
<p>Encoding flags:</p>
<table><thead><tr><th>Encoding Flag</th><th>Pattern</th><th>Encoding Algorithm</th></tr></thead><tbody><tr><td>LOWER_SPECIAL</td><td>every char is in <code>a-z._$|</code></td><td><code>LOWER_SPECIAL</code></td></tr><tr><td>FIRST_TO_LOWER_SPECIAL</td><td>every char is in <code>a-z[c1,c2]</code> except first char is upper case</td><td>replace first upper case char to lower case, then use <code>LOWER_SPECIAL</code></td></tr><tr><td>ALL_TO_LOWER_SPECIAL</td><td>every char is in <code>a-zA-Z[c1,c2]</code></td><td>replace every upper case char by <code>|</code> + <code>lower case</code>, then use <code>LOWER_SPECIAL</code>, use this encoding if it&#x27;s smaller than Encoding <code>LOWER_UPPER_DIGIT_SPECIAL</code></td></tr><tr><td>LOWER_UPPER_DIGIT_SPECIAL</td><td>every char is in <code>a-zA-Z[c1,c2]</code></td><td>use <code>LOWER_UPPER_DIGIT_SPECIAL</code> encoding if it&#x27;s smaller than Encoding <code>FIRST_TO_LOWER_SPECIAL</code></td></tr><tr><td>UTF8</td><td>any utf-8 char</td><td>use <code>UTF-8</code> encoding</td></tr><tr><td>Compression</td><td>any utf-8 char</td><td>lossless compression</td></tr></tbody></table>
<p>Notes:</p>
<ul>
<li>For package name encoding, <code>c1,c2</code> should be <code>._</code>; For field/type name encoding, <code>c1,c2</code> should be <code>_$</code>;</li>
<li>Depending on cases, one can choose encoding <code>flags + data</code> jointly, uses 3 bits of first byte for flags and other
bytes
for data.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="shared-meta-string">Shared meta string<a href="#shared-meta-string" class="hash-link" aria-label="Direct link to Shared meta string" title="Direct link to Shared meta string">​</a></h3>
<p>The shared meta string format consists of header and encoded string binary. Header of encoded string binary will be
inlined
in shared meta header.</p>
<p>Header is written using little endian order, Fury can read this flag first to determine how to deserialize the data.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="write-by-data">Write by data<a href="#write-by-data" class="hash-link" aria-label="Direct link to Write by data" title="Direct link to Write by data">​</a></h4>
<p>If string hasn&#x27;t been written before, the data will be written as follows:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">| unsigned varint: string binary size + 1 bit: not written before | 56 bits: unique hash | 3 bits encoding flags + string binary |</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>If string binary size is less than <code>16</code> bytes, the hash will be omitted to save spaces. Unique hash can be omitted too
if caller pass a flag to disable it. In such cases, the format will be:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">| unsigned varint: string binary size + 1 bit: not written before  | 3 bits encoding flags + string binary |</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="write-by-ref">Write by ref<a href="#write-by-ref" class="hash-link" aria-label="Direct link to Write by ref" title="Direct link to Write by ref">​</a></h4>
<p>If string has been written before, the data will be written as follows:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">| unsigned varint: written string id + 1 bit: written before |</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="value-format">Value Format<a href="#value-format" class="hash-link" aria-label="Direct link to Value Format" title="Direct link to Value Format">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="basic-types">Basic types<a href="#basic-types" class="hash-link" aria-label="Direct link to Basic types" title="Direct link to Basic types">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="bool">Bool<a href="#bool" class="hash-link" aria-label="Direct link to Bool" title="Direct link to Bool">​</a></h4>
<ul>
<li>size: 1 byte</li>
<li>format: 0 for <code>false</code>, 1 for <code>true</code></li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="byte">Byte<a href="#byte" class="hash-link" aria-label="Direct link to Byte" title="Direct link to Byte">​</a></h4>
<ul>
<li>size: 1 byte</li>
<li>format: write as pure byte.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="short">Short<a href="#short" class="hash-link" aria-label="Direct link to Short" title="Direct link to Short">​</a></h4>
<ul>
<li>size: 2 byte</li>
<li>byte order: little endian order</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="char">Char<a href="#char" class="hash-link" aria-label="Direct link to Char" title="Direct link to Char">​</a></h4>
<ul>
<li>size: 2 byte</li>
<li>byte order: little endian order</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="unsigned-int">Unsigned int<a href="#unsigned-int" class="hash-link" aria-label="Direct link to Unsigned int" title="Direct link to Unsigned int">​</a></h4>
<ul>
<li>size: 1~5 byte</li>
<li>Format: The most significant bit (MSB) in every byte indicates whether to have the next byte. If first bit is set
i.e. <code>b &amp; 0x80 == 0x80</code>, then
the next byte should be read until the first bit of the next byte is unset.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="signed-int">Signed int<a href="#signed-int" class="hash-link" aria-label="Direct link to Signed int" title="Direct link to Signed int">​</a></h4>
<ul>
<li>size: 1~5 byte</li>
<li>Format: First convert the number into positive unsigned int by <code>(v &lt;&lt; 1) ^ (v &gt;&gt; 31)</code> ZigZag algorithm, then encoding
it as an unsigned int.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="unsigned-long">Unsigned long<a href="#unsigned-long" class="hash-link" aria-label="Direct link to Unsigned long" title="Direct link to Unsigned long">​</a></h4>
<ul>
<li>size: 1~9 byte</li>
<li>Fury PVL(Progressive Variable-length Long) Encoding:<!-- -->
<ul>
<li>positive long format: first bit in every byte indicates whether to have the next byte. If first bit is set
i.e. <code>b &amp; 0x80 == 0x80</code>, then the next byte should be read until the first bit is unset.</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="signed-long">Signed long<a href="#signed-long" class="hash-link" aria-label="Direct link to Signed long" title="Direct link to Signed long">​</a></h4>
<ul>
<li>size: 1~9 byte</li>
<li>Fury SLI(Small long as int) Encoding:<!-- -->
<ul>
<li>If long is in [-1073741824, 1073741823], encode as 4 bytes int: <code>| little-endian: ((int) value) &lt;&lt; 1 |</code></li>
<li>Otherwise write as 9 bytes: <code>| 0b1 | little-endian 8 bytes long |</code></li>
</ul>
</li>
<li>Fury PVL(Progressive Variable-length Long) Encoding:<!-- -->
<ul>
<li>First convert the number into positive unsigned long by <code> (v &lt;&lt; 1) ^ (v &gt;&gt; 63)</code> ZigZag algorithm to reduce cost of
small negative numbers, then encoding it as an unsigned long.</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="float">Float<a href="#float" class="hash-link" aria-label="Direct link to Float" title="Direct link to Float">​</a></h4>
<ul>
<li>size: 4 byte</li>
<li>format: convert float to 4 bytes int by <code>Float.floatToRawIntBits</code>, then write as binary by little endian order.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="double">Double<a href="#double" class="hash-link" aria-label="Direct link to Double" title="Direct link to Double">​</a></h4>
<ul>
<li>size: 8 byte</li>
<li>format: convert double to 8 bytes int by <code>Double.doubleToRawLongBits</code>, then write as binary by little endian order.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="string">String<a href="#string" class="hash-link" aria-label="Direct link to String" title="Direct link to String">​</a></h3>
<p>Format:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">| header: size &lt;&lt; 2 | 2 bits encoding flags | binary data |</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>size + encoding</code> will be concat as a long and encoded as an unsigned var long. The little 2 bits is used for
encoding:
0 for <code>latin</code>, 1 for <code>utf-16</code>, 2 for <code>utf-8</code>.</li>
<li>encoded string binary data based on encoding: <code>latin/utf-16/utf-8</code>.</li>
</ul>
<p>Which encoding to choose:</p>
<ul>
<li>For JDK8: fury detect <code>latin</code> at runtime, if string is <code>latin</code> string, then use <code>latin</code> encoding, otherwise
use <code>utf-16</code>.</li>
<li>For JDK9+: fury use <code>coder</code> in <code>String</code> object for encoding, <code>latin</code>/<code>utf-16</code> will be used for encoding.</li>
<li>If the string is encoded by <code>utf-8</code>, then fury will use <code>utf-8</code> to decode the data. But currently fury doesn&#x27;t enable
utf-8 encoding by default for java. Cross-language string serialization of fury uses <code>utf-8</code> by default.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="collection">Collection<a href="#collection" class="hash-link" aria-label="Direct link to Collection" title="Direct link to Collection">​</a></h3>
<blockquote>
<p>All collection serializers must extend <code>AbstractCollectionSerializer</code>.</p>
</blockquote>
<p>Format:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">length(unsigned varint) | collection header | elements header | elements data</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="collection-header">Collection header<a href="#collection-header" class="hash-link" aria-label="Direct link to Collection header" title="Direct link to Collection header">​</a></h4>
<ul>
<li>For <code>ArrayList/LinkedArrayList/HashSet/LinkedHashSet</code>, this will be empty.</li>
<li>For <code>TreeSet</code>, this will be <code>Comparator</code></li>
<li>For subclass of <code>ArrayList</code>, this may be extra object field info.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="elements-header">Elements header<a href="#elements-header" class="hash-link" aria-label="Direct link to Elements header" title="Direct link to Elements header">​</a></h4>
<p>In most cases, all collection elements are same type and not null, elements header will encode those homogeneous
information to avoid the cost of writing it for every element. Specifically, there are four kinds of information
which will be encoded by elements header, each use one bit:</p>
<ul>
<li>If track elements ref, use the first bit <code>0b1</code> of the header to flag it.</li>
<li>If the collection has null, use the second bit <code>0b10</code> of the header to flag it. If ref tracking is enabled for this
element type, this flag is invalid.</li>
<li>If the collection element types are not declared type, use the 3rd bit <code>0b100</code> of the header to flag it.</li>
<li>If the collection element types are different, use the 4rd bit <code>0b1000</code> header to flag it.</li>
</ul>
<p>By default, all bits are unset, which means all elements won&#x27;t track ref, all elements are same type, not null and
the actual element is the declared type in the custom class field.</p>
<p>The implementation can generate different deserialization code based read header, and look up the generated code from a
linear map/list.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="elements-data">Elements data<a href="#elements-data" class="hash-link" aria-label="Direct link to Elements data" title="Direct link to Elements data">​</a></h4>
<p>Based on the elements header, the serialization of elements data may skip <code>ref flag</code>/<code>null flag</code>/<code>element class info</code>.</p>
<p><code>CollectionSerializer#write/read</code> can be taken as an example.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="array">Array<a href="#array" class="hash-link" aria-label="Direct link to Array" title="Direct link to Array">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="primitive-array">Primitive array<a href="#primitive-array" class="hash-link" aria-label="Direct link to Primitive array" title="Direct link to Primitive array">​</a></h4>
<p>Primitive array are taken as a binary buffer, serialization will just write the length of array size as an unsigned int,
then copy the whole buffer into the stream.</p>
<p>Such serialization won&#x27;t compress the array. If users want to compress primitive array, users need to register custom
serializers for such types.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="object-array">Object array<a href="#object-array" class="hash-link" aria-label="Direct link to Object array" title="Direct link to Object array">​</a></h4>
<p>Object array is serialized using the collection format. Object component type will be taken as collection element
generic
type.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="map">Map<a href="#map" class="hash-link" aria-label="Direct link to Map" title="Direct link to Map">​</a></h3>
<blockquote>
<p>All Map serializers must extend <code>AbstractMapSerializer</code>.</p>
</blockquote>
<p>Format:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">| length(unsigned varint) | map header | key value pairs data |</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="map-header">Map header<a href="#map-header" class="hash-link" aria-label="Direct link to Map header" title="Direct link to Map header">​</a></h4>
<ul>
<li>For <code>HashMap/LinkedHashMap</code>, this will be empty.</li>
<li>For <code>TreeMap</code>, this will be <code>Comparator</code></li>
<li>For other <code>Map</code>, this may be extra object field info.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="map-key-value-data">Map Key-Value data<a href="#map-key-value-data" class="hash-link" aria-label="Direct link to Map Key-Value data" title="Direct link to Map Key-Value data">​</a></h4>
<p>Map iteration is too expensive, Fury won&#x27;t compute the header like for collection before since it introduce
<a href="https://github.com/apache/incubator-fury/issues/925" target="_blank" rel="noopener noreferrer">considerable overhead</a>.
Users can use <code>MapFieldInfo</code> annotation to provide header in advance. Otherwise Fury will use first key-value pair to
predict header optimistically, and update the chunk header if the prediction failed at some pair.</p>
<p>Fury will serialize map chunk by chunk, every chunk has 127 pairs at most.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">|    1 byte      |     1 byte     | variable bytes  |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+----------------+----------------+-----------------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| chunk size: N  |    KV header   |   N*2 objects   |</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>KV header:</p>
<ul>
<li>If track key ref, use the first bit <code>0b1</code> of the header to flag it.</li>
<li>If the key has null, use the second bit <code>0b10</code> of the header to flag it. If ref tracking is enabled for this
key type, this flag is invalid.</li>
<li>If the key types of map are different, use the 3rd bit <code>0b100</code> of the header to flag it.</li>
<li>If the actual key type of map is not the declared key type, use the 4rd bit <code>0b1000</code> of the header to flag it.</li>
<li>If track value ref, use the 5th bit <code>0b10000</code> of the header to flag it.</li>
<li>If the value has null, use the 6th bit <code>0b100000</code> of the header to flag it. If ref tracking is enabled for this
value type, this flag is invalid.</li>
<li>If the value types of map are different, use the 7rd bit <code>0b1000000</code> header to flag it.</li>
<li>If the value type of map is not the declared value type, use the 8rd bit <code>0b10000000</code> of the header to flag it.</li>
</ul>
<p>If streaming write is enabled, which means Fury can&#x27;t update written <code>chunk size</code>. In such cases, map key-value data
format will be:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">|    1 byte      | variable bytes  |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+----------------+-----------------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|    KV header   |   N*2 objects   |</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><code>KV header</code> will be a header marked by <code>MapFieldInfo</code> in java. The implementation can generate different deserialization
code based read header, and look up the generated code from a linear map/list.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="enum">Enum<a href="#enum" class="hash-link" aria-label="Direct link to Enum" title="Direct link to Enum">​</a></h3>
<p>Enums are serialized as an unsigned var int. If the order of enum values change, the deserialized enum value may not be
the value users expect. In such cases, users must register enum serializer by make it write enum value as an enumerated
string with unique hash disabled.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="object">Object<a href="#object" class="hash-link" aria-label="Direct link to Object" title="Direct link to Object">​</a></h3>
<p>Object means object of <code>pojo/struct/bean/record</code> type.
Object will be serialized by writing its fields data in fury order.</p>
<p>Depending on schema compatibility, objects will have different formats.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="field-order">Field order<a href="#field-order" class="hash-link" aria-label="Direct link to Field order" title="Direct link to Field order">​</a></h4>
<p>Field will be ordered as following, every group of fields will have its own order:</p>
<ul>
<li>primitive fields: larger size type first, smaller later, variable size type last.</li>
<li>boxed primitive fields: same order as primitive fields</li>
<li>final fields: same type together, then sorted by field name lexicographically.</li>
<li>collection fields: same order as final fields</li>
<li>map fields: same order as final fields</li>
<li>other fields: same order as final fields</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="schema-consistent-1">Schema consistent<a href="#schema-consistent-1" class="hash-link" aria-label="Direct link to Schema consistent" title="Direct link to Schema consistent">​</a></h4>
<p>Object fields will be serialized one by one using following format:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Primitive field value:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|   var bytes    |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+----------------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|   value data   |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+----------------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Boxed field value:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| one byte  |   var bytes   |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+-----------+---------------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| null flag |  field value  |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+-----------+---------------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">field value of final type with ref tracking:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| var bytes | var objects |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+-----------+-------------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| ref meta  | value data  |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+-----------+-------------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">field value of final type without ref tracking:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| one byte  | var objects |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+-----------+-------------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| null flag | field value |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+-----------+-------------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">field value of non-final type with ref tracking:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| one byte  | var bytes | var objects |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+-----------+-------------+-------------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| ref meta  | class meta  | value data  |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+-----------+-------------+-------------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">field value of non-final type without ref tracking:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| one byte  | var bytes | var objects |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+-----------+------------+------------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| null flag | class meta | value data |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+-----------+------------+------------+</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="schema-evolution-1">Schema evolution<a href="#schema-evolution-1" class="hash-link" aria-label="Direct link to Schema evolution" title="Direct link to Schema evolution">​</a></h4>
<p>Schema evolution have similar format as schema consistent mode for object except:</p>
<ul>
<li>For this object type itself, <code>schema consistent</code> mode will write class by id/name, but <code>schema evolution</code> mode will
write class field names, types and other meta too, see <a href="#class-meta">Class meta</a>.</li>
<li>Class meta of <code>final custom type</code> needs to be written too, because peers may not have this class defined.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="class">Class<a href="#class" class="hash-link" aria-label="Direct link to Class" title="Direct link to Class">​</a></h3>
<p>Class will be serialized using class meta format.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="implementation-guidelines">Implementation guidelines<a href="#implementation-guidelines" class="hash-link" aria-label="Direct link to Implementation guidelines" title="Direct link to Implementation guidelines">​</a></h2>
<ul>
<li>Try to merge multiple bytes into an int/long write before writing to reduce memory IO and bound check cost.</li>
<li>Read multiple bytes as an int/long, then split into multiple bytes to reduce memory IO and bound check cost.</li>
<li>Try to use one varint/long to write flags and length together to save one byte cost and reduce memory io.</li>
<li>Condition branches are less expensive compared to memory IO cost unless there are too many branches.</li>
</ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/specification/fury_xlang_serialization_spec"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Fury Xlang Serialization Format</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/specification/fury_row_format_spec"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Fury Row Format</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#spec-overview" class="table-of-contents__link toc-highlight">Spec overview</a></li><li><a href="#fury-header" class="table-of-contents__link toc-highlight">Fury header</a></li><li><a href="#reference-meta" class="table-of-contents__link toc-highlight">Reference Meta</a></li><li><a href="#class-meta" class="table-of-contents__link toc-highlight">Class Meta</a><ul><li><a href="#schema-consistent" class="table-of-contents__link toc-highlight">Schema consistent</a></li><li><a href="#schema-evolution" class="table-of-contents__link toc-highlight">Schema evolution</a></li></ul></li><li><a href="#meta-share" class="table-of-contents__link toc-highlight">Meta share</a><ul><li><a href="#meta-header" class="table-of-contents__link toc-highlight">Meta header</a></li><li><a href="#meta-size" class="table-of-contents__link toc-highlight">Meta size</a></li><li><a href="#single-layer-class-meta" class="table-of-contents__link toc-highlight">Single layer class meta</a></li><li><a href="#other-layers-class-meta" class="table-of-contents__link toc-highlight">Other layers class meta</a></li></ul></li><li><a href="#meta-string" class="table-of-contents__link toc-highlight">Meta String</a><ul><li><a href="#encoding-algorithms" class="table-of-contents__link toc-highlight">Encoding Algorithms</a></li><li><a href="#shared-meta-string" class="table-of-contents__link toc-highlight">Shared meta string</a></li></ul></li><li><a href="#value-format" class="table-of-contents__link toc-highlight">Value Format</a><ul><li><a href="#basic-types" class="table-of-contents__link toc-highlight">Basic types</a></li><li><a href="#string" class="table-of-contents__link toc-highlight">String</a></li><li><a href="#collection" class="table-of-contents__link toc-highlight">Collection</a></li><li><a href="#array" class="table-of-contents__link toc-highlight">Array</a></li><li><a href="#map" class="table-of-contents__link toc-highlight">Map</a></li><li><a href="#enum" class="table-of-contents__link toc-highlight">Enum</a></li><li><a href="#object" class="table-of-contents__link toc-highlight">Object</a></li><li><a href="#class" class="table-of-contents__link toc-highlight">Class</a></li></ul></li><li><a href="#implementation-guidelines" class="table-of-contents__link toc-highlight">Implementation guidelines</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://lists.apache.org/list.html?dev@fury.apache.org" target="_blank" rel="noopener noreferrer" class="footer__link-item">Mailing list<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://join.slack.com/t/fury-project/shared_invite/zt-1u8soj4qc-ieYEu7ciHOqA2mo47llS8A" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/ApacheFury" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/start/install">Install</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/start/usage">Usage</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/introduction/benchmark">Benchmark</a></li></ul></div><div class="col footer__col"><div class="footer__title">Repositories</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/apache/incubator-fury" target="_blank" rel="noopener noreferrer" class="footer__link-item">Fury<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/apache/incubator-fury-site" target="_blank" rel="noopener noreferrer" class="footer__link-item">Website<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://incubator.apache.org/" rel="noopener noreferrer" class="footerLogoLink_BH7S"><img src="/img/apache-incubator.svg" alt="Apache Incubator logo" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE" width="200"><img src="/img/apache-incubator.svg" alt="Apache Incubator logo" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU" width="200"></a></div><div class="footer__copyright"><div>
      <p> Apache Fury is an effort undergoing incubation at The Apache Software Foundation (ASF), sponsored by the Apache Incubator. Incubation is required of all newly accepted projects until a further review indicates that the infrastructure, communications, and decision making process have stabilized in a manner consistent with other successful ASF projects. While incubation status is not necessarily a reflection of the completeness or stability of the code, it does indicate that the project has yet to be fully endorsed by the ASF. </p>
      <p>
        Copyright © 2024 The Apache Software Foundation, Licensed under the Apache License, Version 2.0. <br>
        Apache, the names of Apache projects, and the feather logo are either registered trademarks or trademarks of the Apache Software Foundation in the United States and/or other countries.
      </p>
      </div></div></div></div></footer></div>
</body>
</html>